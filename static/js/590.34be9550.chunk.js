"use strict";(self.webpackChunkportfolio_react=self.webpackChunkportfolio_react||[]).push([[590],{9319:function(e,t,r){var i=r(9439),o=r(2791),s=r(2995),n=r(184);t.Z=function(e){var t=e.link,r=e.alt,l=(0,o.useState)(!1),a=(0,i.Z)(l,2),c=a[0],d=a[1],u=(0,o.useRef)();return(0,n.jsxs)(n.Fragment,{children:[c||(0,n.jsx)(s.Z,{}),(0,n.jsx)("img",{ref:u,src:t,alt:r,onLoad:function(){return d(!0)},style:{display:c?"block":"none"}})]})}},8590:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var i=r(9439),o=r(2791),s=r(668),n=r(7781),l=r(9101),a=r(418),c=r(9319),d=r(184),u=(0,l.$j)((function(e){return{store:e}}),(function(e){return{setStore:(0,n.DE)(s,e)}}))((function(e){var t=(0,o.useState)(),r=(0,i.Z)(t,2),s=r[0],n=r[1],l=(0,o.useRef)(null),u=(0,o.useState)({}),f=(0,i.Z)(u,2),p=f[0],h=f[1],v={lazyLoad:!1,updateOnMove:!0,perPage:1,fixedWidth:"100%",perMove:1,pagination:!0,arrows:!0,drag:!0,speed:500,wheel:!0,wheelSleep:300,interval:15e3,pauseOnHover:!0,breakpoints:{768:{wheel:!1}}},g=function(t){var r,i,o,s=e.store.portfolios.selected;e.setStore.setSelectedPortfolioImage(t),e.setStore.setModalImage(null===(r=e.store.portfolios.list[s].images[t])||void 0===r?void 0:r.images.slice(-1)[0].image),e.setStore.setModalLink(null===(i=e.store.portfolios.list[s].images[t])||void 0===i?void 0:i.link),e.setStore.setModalDescr(null===(o=e.store.portfolios.list[s].images[t])||void 0===o?void 0:o.descr)},m=function(){e.setStore.setModal(!0)};return(0,o.useEffect)((function(){if(l.current){h({width:l.current.offsetWidth,height:l.current.offsetHeight});var e=new a.ZP(l.current,v);e.mount(),e.on("active",(function(){g(e.index)}));var t=l.current.querySelectorAll(".splide__slide-container");return t.forEach((function(e){return e.addEventListener("click",m)})),g(e.index),n(e),function(){t.forEach((function(e){return e.removeEventListener("click",m)})),e.destroy()}}}),[e.store.portfolios.selected]),(0,o.useEffect)((function(){var t;t=e.store.portfolios.selectedImage,s&&s.go(t)}),[e.store.portfolios.selectedImage]),(0,d.jsx)("div",{className:"splide_portfolio__container",children:(0,d.jsx)("div",{id:"portfolioMainSplide",className:"splide",ref:l,"aria-label":"The carousel with thumbnails. Click the image to expand.",children:(0,d.jsx)("div",{className:"splide__track",children:(0,d.jsx)("ul",{className:"splide__list",children:e.store.portfolios.list[e.store.portfolios.selected].images.map((function(t,r){var i;return l.current&&Object.keys(p).length>0&&(i=t.images.find((function(e){return e.width>=p.width||e.height>=p.height}))),(0,d.jsx)("li",{className:"splide__slide",children:(0,d.jsx)("div",{className:"splide__slide-container",children:l.current&&Object.keys(p).length>0&&(0,d.jsx)(c.Z,{link:i.image,alt:t.descr})})},1e3*e.store.portfolios.selected+r)}))})})})})}))}}]);
//# sourceMappingURL=590.34be9550.chunk.js.map